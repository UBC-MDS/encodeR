<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>conjugate_encoder — conjugate_encoder • encodeR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="conjugate_encoder — conjugate_encoder" />
<meta property="og:description" content="This function encodes categorical variables by fitting a posterior distribution per each category
to the target variable y, using a known conjugate-prior. The resulting mean(s) of each posterior distribution
per each category are used as the encodings." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">encodeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/encodeR-vignette.html">An Introduction to encodeR</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/UBC-MDS/encodeR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>conjugate_encoder</h1>
    <small class="dont-index">Source: <a href='https://github.com/UBC-MDS/encodeR/blob/master/R/conjugate_encoder.R'><code>R/conjugate_encoder.R</code></a></small>
    <div class="hidden name"><code>conjugate_encoder.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function encodes categorical variables by fitting a posterior distribution per each category
to the target variable y, using a known conjugate-prior. The resulting mean(s) of each posterior distribution
per each category are used as the encodings.</p>
    </div>

    <pre class="usage"><span class='fu'>conjugate_encoder</span>(
  <span class='no'>X_train</span>,
  <span class='kw'>X_test</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>y</span>,
  <span class='no'>cat_columns</span>,
  <span class='no'>prior_params</span>,
  <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"regression"</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>X_train</th>
      <td><p>A tibble representing the training data set containing some categorical features/columns.</p></td>
    </tr>
    <tr>
      <th>X_test</th>
      <td><p>An optional tibble representing the test set, containing some set of categorical features/columns. Default = NULL.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>A numeric vector or character vector representing the target variable. If the objective is "binary", then the vector
should only contain two unique values.</p></td>
    </tr>
    <tr>
      <th>cat_columns</th>
      <td><p>A character vector containing the names of the categorical columns in the tibble
that should be encoded.</p></td>
    </tr>
    <tr>
      <th>prior_params</th>
      <td><p>A list with named parameters that specify the prior assumed. For regression, this requires
a dictionary with four keys and four values: mu, vega, alpha, beta. All must be real numbers, alpha should be greater than 0, beta and vega should be greater than 0.
mu can be negative. For binary classification, this requires a list with two keys and two values: alpha, beta. All must be real
numbers and be greater than 0.</p></td>
    </tr>
    <tr>
      <th>objective</th>
      <td><p>A string, either "regression" or "binary" specifying the problem. Default is regression.
For regression, only the uniform quantization method is incorporated here for simplicity.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list containing with processed training and test sets, in which the named categorical
columns are replaced with their encodings. For regression, the encoder will add one additional dimension to the original training set since the
assumed prior distribution is two dimensional.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>conjugate_encoder</span>(
<span class='kw'>X_train</span> <span class='kw'>=</span> <span class='no'>mtcars</span>,
<span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>mtcars</span>$<span class='no'>mpg</span>,
<span class='kw'>cat_columns</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"cyl"</span>, <span class='st'>"vs"</span>),
<span class='kw'>prior_params</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>mu</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>vega</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>3</span>),
<span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"regression"</span>)</div><div class='output co'>#&gt; <span class='message'>Joining, by = "cyl"</span></div><div class='output co'>#&gt; <span class='message'>Joining, by = "vs"</span></div><div class='output co'>#&gt; [[1]]
#&gt;     mpg  disp  hp drat    wt  qsec am gear carb cyl_encoded_mean
#&gt; 1  21.0 160.0 110 3.90 2.620 16.46  1    4    4         17.48031
#&gt; 2  21.0 160.0 110 3.90 2.875 17.02  1    4    4         17.48031
#&gt; 3  22.8 108.0  93 3.85 2.320 18.61  1    4    1         23.46585
#&gt; 4  21.4 258.0 110 3.08 3.215 19.44  0    3    1         17.48031
#&gt; 5  18.7 360.0 175 3.15 3.440 17.02  0    3    2         13.46486
#&gt; 6  18.1 225.0 105 2.76 3.460 20.22  0    3    1         17.48031
#&gt; 7  14.3 360.0 245 3.21 3.570 15.84  0    3    4         13.46486
#&gt; 8  24.4 146.7  62 3.69 3.190 20.00  0    4    2         23.46585
#&gt; 9  22.8 140.8  95 3.92 3.150 22.90  0    4    2         23.46585
#&gt; 10 19.2 167.6 123 3.92 3.440 18.30  0    4    4         17.48031
#&gt; 11 17.8 167.6 123 3.92 3.440 18.90  0    4    4         17.48031
#&gt; 12 16.4 275.8 180 3.07 4.070 17.40  0    3    3         13.46486
#&gt; 13 17.3 275.8 180 3.07 3.730 17.60  0    3    3         13.46486
#&gt; 14 15.2 275.8 180 3.07 3.780 18.00  0    3    3         13.46486
#&gt; 15 10.4 472.0 205 2.93 5.250 17.98  0    3    4         13.46486
#&gt; 16 10.4 460.0 215 3.00 5.424 17.82  0    3    4         13.46486
#&gt; 17 14.7 440.0 230 3.23 5.345 17.42  0    3    4         13.46486
#&gt; 18 32.4  78.7  66 4.08 2.200 19.47  1    4    1         23.46585
#&gt; 19 30.4  75.7  52 4.93 1.615 18.52  1    4    2         23.46585
#&gt; 20 33.9  71.1  65 4.22 1.835 19.90  1    4    1         23.46585
#&gt; 21 21.5 120.1  97 3.70 2.465 20.01  0    3    1         23.46585
#&gt; 22 15.5 318.0 150 2.76 3.520 16.87  0    3    2         13.46486
#&gt; 23 15.2 304.0 150 3.15 3.435 17.30  0    3    2         13.46486
#&gt; 24 13.3 350.0 245 3.73 3.840 15.41  0    3    4         13.46486
#&gt; 25 19.2 400.0 175 3.08 3.845 17.05  0    3    2         13.46486
#&gt; 26 27.3  79.0  66 4.08 1.935 18.90  1    4    1         23.46585
#&gt; 27 26.0 120.3  91 4.43 2.140 16.70  1    5    2         23.46585
#&gt; 28 30.4  95.1 113 3.77 1.513 16.90  1    5    2         23.46585
#&gt; 29 15.8 351.0 264 4.22 3.170 14.50  1    5    4         13.46486
#&gt; 30 19.7 145.0 175 3.62 2.770 15.50  1    5    6         17.48031
#&gt; 31 15.0 301.0 335 3.54 3.570 14.60  1    5    8         13.46486
#&gt; 32 21.4 121.0 109 4.11 2.780 18.60  1    4    2         23.46585
#&gt;    cyl_encoded_var vs_encoded_mean vs_encoded_var
#&gt; 1         35.71723        14.77658       35.68746
#&gt; 2         35.71723        14.77658       35.68746
#&gt; 3         85.50876        21.64402       81.70632
#&gt; 4         35.71723        21.64402       81.70632
#&gt; 5         23.57909        14.77658       35.68746
#&gt; 6         35.71723        21.64402       81.70632
#&gt; 7         23.57909        14.77658       35.68746
#&gt; 8         85.50876        21.64402       81.70632
#&gt; 9         85.50876        21.64402       81.70632
#&gt; 10        35.71723        21.64402       81.70632
#&gt; 11        35.71723        21.64402       81.70632
#&gt; 12        23.57909        14.77658       35.68746
#&gt; 13        23.57909        14.77658       35.68746
#&gt; 14        23.57909        14.77658       35.68746
#&gt; 15        23.57909        14.77658       35.68746
#&gt; 16        23.57909        14.77658       35.68746
#&gt; 17        23.57909        14.77658       35.68746
#&gt; 18        85.50876        21.64402       81.70632
#&gt; 19        85.50876        21.64402       81.70632
#&gt; 20        85.50876        21.64402       81.70632
#&gt; 21        85.50876        21.64402       81.70632
#&gt; 22        23.57909        14.77658       35.68746
#&gt; 23        23.57909        14.77658       35.68746
#&gt; 24        23.57909        14.77658       35.68746
#&gt; 25        23.57909        14.77658       35.68746
#&gt; 26        85.50876        21.64402       81.70632
#&gt; 27        85.50876        14.77658       35.68746
#&gt; 28        85.50876        21.64402       81.70632
#&gt; 29        23.57909        14.77658       35.68746
#&gt; 30        35.71723        14.77658       35.68746
#&gt; 31        23.57909        14.77658       35.68746
#&gt; 32        85.50876        21.64402       81.70632
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Robert Pimentel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


